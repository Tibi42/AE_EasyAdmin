{# Composant Carte Produit #}
<div class="card h-100 shadow-sm border-0 product-card-hover" data-action="click->modal#open" data-name="{{ product.name }}" data-description="{{ product.description }}" data-price="{{ product.price }}" data-image="{% if product.imageName %}{{ product.imageName matches '/^https?:\\/\\//' ? product.imageName : asset('uploads/products/' ~ product.imageName) }}{% endif %}" data-add-to-cart-url="{{ path('cart_add', {id: product.id}) }}" style="cursor: pointer;">

	<div class="ratio ratio-4x3 bg-light overflow-hidden">
		{% if product.imageName %}
			<img src="{{ product.imageName matches '/^https?:\\/\\//' ? product.imageName : asset('uploads/products/' ~ product.imageName) }}" alt="{{ product.name }}" class="img-fluid w-100 h-100 object-fit-cover" loading="lazy">
		{% else %}
			<div class="d-flex align-items-center justify-content-center">
				<div class="display-4 text-muted opacity-25">ðŸ“¦</div>
			</div>
		{% endif %}
	</div>

	<div class="card-body d-flex flex-column p-3">
		<h6 class="card-title fw-bold text-dark mb-1 text-truncate">{{ product.name }}</h6>

		{% if product.description %}
			<p class="card-text text-muted small mb-3 flex-grow-1" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
				{{ product.description }}
			</p>
		{% endif %}

		<div class="d-flex justify-content-between align-items-center mb-3">
			<span class="fs-5 fw-bold text-primary">{{ product.price }}
				â‚¬</span>
		</div>

		<div class="d-flex gap-2">
			<button class="btn btn-outline-primary btn-sm flex-grow-1 fw-bold rounded-pill">
				DÃ©tails
			</button>
			<a href="{{ path('cart_add', {id: product.id}) }}" class="btn btn-primary btn-sm rounded-circle d-flex align-items-center justify-content-center" style="width: 32px; height: 32px;" title="Ajouter au panier" data-action="click->modal#stopPropagation">
				<i class="fas fa-cart-plus fa-xs"></i>
			</a>
		</div>
	</div>
</div>
